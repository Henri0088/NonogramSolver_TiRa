<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>c:\users\saskeli\documents\visual studio 2015\projects\nonogramsolver\util\list.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using System;

namespace Util
{
    /// &lt;summary&gt;
    /// Generic very simple dynamic collection.
    /// &lt;/summary&gt;
    /// &lt;typeparam name=&quot;T&quot;&gt;&lt;/typeparam&gt;
    public class List&lt;T&gt;
    {
        private T[] _data;
        private int _nexIndex;

        /// &lt;summary&gt;
        /// Create a new List object with a default initial capacity.
        /// &lt;/summary&gt;
        public List()
        {
            _data = new T[4];
        }

        /// &lt;summary&gt;
        /// Create a new List object with a specified capacity.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;init&quot;&gt;Desired initial capacity.&lt;/param&gt;
        public List(int init)
        {
            if (init &lt; 0) throw  new ArgumentOutOfRangeException(nameof(init), 
                    &quot;Object can not be initialized with negative value&quot;);
            _data = new T[init];
        }

        /// &lt;summary&gt;
        /// Appends the specified element to the collection. 
        /// List size is increased dynamically as needed.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;t&quot;&gt;Element to append to collection.&lt;/param&gt;
        public void Add(T t)
        {
            // 0X7FEFFFFF is an internal array size limitation in c#.
            if (_nexIndex &gt;= 0X7FEFFFFF) throw new OverflowException(&quot;Maximum collection size exeeded&quot;);
            if (_nexIndex &gt;= _data.Length) Resize();
            _data[_nexIndex] = t;
            _nexIndex++;
        }

        /// &lt;summary&gt;
        /// Doubles the data capacity of the list or sets maximum allowable capacity.
        /// &lt;/summary&gt;
        private void Resize()
        {
            // 0X7FEFFFFF is an internal array size limitation in c#.
            int newSize = 
                2 * (uint)_data.Length &gt; 0X7FEFFFFF ? 0X7FEFFFFF : _data.Length * 2;
            newSize = newSize &gt; 0 ? newSize : 1;
            T[] newData = new T[newSize];
            for (int i = 0; i &lt; _nexIndex; i++)
            {
                newData[i] = _data[i];
            }
            _data = newData;
        }

        /// &lt;summary&gt;
        /// Generate new array from elements in List.
        /// &lt;/summary&gt;
        /// &lt;returns&gt;Array of type T&lt;/returns&gt;
        public T[] ToArray()
        {
            T[] returnable = new T[_nexIndex];
            for (int i = 0; i &lt; _nexIndex; i++)
            {
                returnable[i] = _data[i];
            }
            return returnable;
        }

        public T this[int index]
        {
            get
            {
                if (index &lt; 0 || index &gt;= _nexIndex) throw new ArgumentOutOfRangeException();
                return _data[index];
            }
        }

        /// &lt;summary&gt;
        /// Number of elements in the List.
        /// &lt;/summary&gt;
        public int Count
        {
            get { return _nexIndex; }
        }
    }
}

    </pre>
    <script type="text/javascript">
      highlightRanges([[41,42,41,105,0],[17,9,17,22,1],[18,9,18,10,1],[19,13,19,30,1],[20,9,20,10,1],[26,9,26,30,1],[27,9,27,10,1],[28,13,28,26,1],[28,27,29,74,1],[30,13,30,33,1],[31,9,31,10,1],[39,9,39,10,1],[41,13,41,41,1],[42,13,42,43,1],[42,44,42,53,1],[43,13,43,34,1],[44,13,44,25,1],[45,9,45,10,1],[51,9,51,10,1],[53,13,54,85,1],[55,13,55,49,1],[56,13,56,42,1],[57,18,57,27,1],[58,13,58,14,1],[59,17,59,39,1],[60,13,60,14,1],[57,44,57,47,1],[57,29,57,42,1],[61,13,61,29,1],[62,9,62,10,1],[69,9,69,10,1],[70,13,70,47,1],[71,18,71,27,1],[72,13,72,14,1],[73,17,73,42,1],[74,13,74,14,1],[71,44,71,47,1],[71,29,71,42,1],[75,13,75,31,1],[76,9,76,10,1],[81,13,81,14,1],[82,17,82,53,1],[82,54,82,94,1],[83,17,83,37,1],[84,13,84,14,1],[92,17,92,18,1],[92,19,92,36,1],[92,37,92,38,1]]);
    </script>
  </body>
</html>